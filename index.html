<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SprintGlobalPay | Currency Converter</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

    <style>
        body {
            background: linear-gradient(120deg, #2563eb, #1e40af);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Segoe UI', sans-serif;
        }

        .card {
            border-radius: 16px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
        }

        .btn-primary {
            background: #2563eb;
            border: none;
        }

        .btn-primary:hover {
            background: #1e40af;
        }

        .result {
            font-size: 1.3rem;
            font-weight: 600;
            color: #16a34a;
        }
    </style>
</head>

<body>

<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-6">

            <div class="card p-4">
                <div class="text-center mb-3">
                    <h2 class="fw-bold">
                        <i class="bi bi-currency-exchange"></i>
                        SprintGlobalPay
                    </h2>
                    <p class="text-muted">Multi-Currency Converter</p>
                </div>

                <!-- Currency Conversion -->
                <div class="mb-3">
                    <label class="form-label">From Currency</label>
                    <select id="fromCurrency" class="form-select">
                        <option>USD</option>
                        <option>INR</option>
                        <option>EUR</option>
                        <option>GBP</option>
                        <option>SGD</option>
                        <option>JPY</option>
                    </select>
                </div>

                <div class="mb-3">
                    <label class="form-label">To Currency</label>
                    <select id="toCurrency" class="form-select">
                        <option>INR</option>
                        <option>USD</option>
                        <option>EUR</option>
                        <option>GBP</option>
                        <option>SGD</option>
                        <option>JPY</option>
                    </select>
                </div>

                <div class="mb-3">
                    <label class="form-label">Amount</label>
                    <input type="number" id="amount" class="form-control" placeholder="Enter amount">
                </div>

                <div class="d-grid mb-3">
                    <button class="btn btn-primary btn-lg" onclick="convertCurrency()">
                        Convert
                    </button>
                </div>

                <div class="text-center result" id="result"></div>

                <hr>

                <!-- Exchange Rate Panel -->
                <div class="d-grid">
                    <button class="btn btn-outline-primary" onclick="getRate()">
                        <i class="bi bi-graph-up"></i>
                        Get Exchange Rate
                    </button>
                </div>

                <div class="text-center mt-3 fw-semibold" id="rate"></div>

                <p class="text-center text-muted mt-4" style="font-size: 0.85rem;">
                    Internal Tool • Powered by FastAPI
                </p>
            </div>

        </div>
    </div>
</div>

<script>
    const API_URL = "";

    function convertCurrency() {
        const from = document.getElementById("fromCurrency").value;
        const to = document.getElementById("toCurrency").value;
        const amount = document.getElementById("amount").value;

        fetch(`${API_URL}/convert?fromCurrency=${from}&toCurrency=${to}&amount=${amount}`)
            .then(res => res.json())
            .then(data => {
                document.getElementById("result").innerText =
                    `Converted Amount: ${data.convertedAmount}`;
            })
            .catch(() => {
                document.getElementById("result").innerText =
                    "❌ Error connecting to server";
            });
    }

    function getRate() {
        const from = document.getElementById("fromCurrency").value;
        const to = document.getElementById("toCurrency").value;

        fetch(`${API_URL}/rate?fromCurrency=${from}&toCurrency=${to}`)
            .then(res => res.json())
            .then(data => {
                document.getElementById("rate").innerText =
                    `1 ${data.from} = ${data.rate} ${data.to}`;
            })
            .catch(() => {
                document.getElementById("rate").innerText =
                    "❌ Unable to fetch rate";
            });
    }
</script>

</body>
</html>  